<div class="card-header">Batting</div>
<div class="box">
    <input type="checkbox" [(ngModel)]="allBatters">Full Scorecard
</div>
<table>
    <thead>
        <th></th>
        <th>Batter</th>
        <th></th>
        <th class="number">R</th>
        <th class="number">B</th>
        <th class="number">4</th>
        <th class="number">6</th>
        <th class="number">SR</th>
    </thead>
    <ng-container *ngIf="scorecard.hasCurrentBatters || this.allBatters; else noCurrentBatters">
        <tbody>
            <ng-container *ngFor="let batter of scorecard.batters | visible:this.allBatters">
                <tr *ngIf="batter.howOutFull != 'dnb' && batter.howOutFull !=''"
                    [ngClass]="{'highlighted':batter.batting, 'secondary':!batter.onStrike}">
                    <td class="number">{{batter.batterNumber}}</td>
                    <td>
                        <span class="player-name clickable" (click)="onPlayerClick(batter.id, batter.firstname + ' ' + batter.surname)">
                            {{batter.firstname}} {{batter.surname}}
                        </span>
                        <span *ngIf="batter.onStrike"> *</span>
                    </td>
                    <td class="how-out">{{batter.howOutFull}}</td>
                    <td class="number">{{batter.runs}}</td>
                    <td class="number">{{batter.balls}}</td>
                    <td class="number">{{batter.fours}}</td>
                    <td class="number">{{batter.sixes}}</td>
                    <td class="number">{{batter.strikeRate|number:'1.0-0'}}</td>
                </tr>
            </ng-container>
        </tbody>
    </ng-container>
    <ng-template #noCurrentBatters>
        <tbody>
            <tr>
                <td colspan="5">
                    No Current Batters...
                </td>
            </tr>
        </tbody>
    </ng-template>
</table>
<br>
<ng-container *ngIf="scorecard.stillToBat.length > 0">
    <span class="still-to-bat">Still to bat:</span><br>
    <span *ngFor="let batter of scorecard.stillToBat">{{batter}}, </span>
</ng-container>

<!-- Wagon Wheel Modal -->
<app-modal-dialog #wagonWheelModal [isVisible]="showWagonWheel" [title]="'Wagon Wheel - ' + selectedPlayerName" (close)="onCloseWagonWheel()">
    <app-wagon-wheel 
        [gameId]="gameId" 
        [playerId]="selectedPlayerId" 
        [playerName]="selectedPlayerName"
        [matchInnings]="inningsNumber"
        [teamNumber]="teamNumber"
        [type]="'batting'">
    </app-wagon-wheel>
    <div modal-footer>
        <button (click)="onCloseWagonWheel()">Close</button>
    </div>
</app-modal-dialog>