<div class="container">
    <div class="pin-icon" (click)="toggleWakeLock()" *ngIf="showWakeLock">
        <span [ngClass]="isWakeLockActive ? 'material-icons' : 'material-icons-outlined'">push_pin</span>
    </div>
    <ng-container *ngIf="fixture.gameId; else noMatch">
        <div class="box wide-box fixture">
            <h1>{{this.fixture.game}}</h1>
            <div class="result">{{status.result}}</div>
            <div *ngIf="status.runsRequired !='NotOn'" class="runRequired">{{status.runsRequired}}</div>
        </div>
        
        <div *ngIf="status.tossWonByTeam" class="box wide-box toss">{{status.tossWonByTeam}} won the toss and decided to
            {{status.decidedTo}}
        </div>
        
        <!-- First Innings Team Scores -->
        <div class="box small-box card team-score-card" [class.selected]="viewingBattingInnings === 1">
            <app-team-score 
                [gameId]="actualGameId" 
                [battingInningsNumber]="1"
                [isSelected]="viewingBattingInnings === 1"
                (cardClicked)="onTeamScoreClick(1)">
            </app-team-score>
        </div>
        <div class="box small-box card team-score-card" [class.selected]="viewingBattingInnings === 2">
            <app-team-score 
                [gameId]="actualGameId" 
                [battingInningsNumber]="2"
                [isSelected]="viewingBattingInnings === 2"
                (cardClicked)="onTeamScoreClick(2)">
            </app-team-score>
        </div>
        
        <!-- Second Innings Team Scores (if exists) -->
        <div class="box small-box card team-score-card" [class.selected]="viewingBattingInnings === 3" *ngIf="hasSecondInnings">
            <app-team-score 
                [gameId]="actualGameId" 
                [battingInningsNumber]="3"
                [isSelected]="viewingBattingInnings === 3"
                (cardClicked)="onTeamScoreClick(3)">
            </app-team-score>
        </div>
        <div class="box small-box card team-score-card" [class.selected]="viewingBattingInnings === 4" *ngIf="hasSecondInnings">
            <app-team-score 
                [gameId]="actualGameId" 
                [battingInningsNumber]="4"
                [isSelected]="viewingBattingInnings === 4"
                (cardClicked)="onTeamScoreClick(4)">
            </app-team-score>
        </div>
        
        <div class="box wide-box innings-detail-label">Innings Detail</div><br>
        
        <div class="box small-box card">
            <app-batting-scorecard [battingInningsNumber]="viewingBattingInnings" [gameId]="actualGameId"></app-batting-scorecard>
        </div>
        <div class="box small-box card">
            <app-recent-balls [battingInningsNumber]="viewingBattingInnings" [gameId]="actualGameId"></app-recent-balls>
        </div>
        <div class="box small-box card">
            <app-bowling-scorecard [battingInningsNumber]="viewingBattingInnings" [gameId]="actualGameId"></app-bowling-scorecard>
        </div>
        <div class="box small-box card">
            <app-fall-of-wickets [battingInningsNumber]="viewingBattingInnings" [gameId]="actualGameId"></app-fall-of-wickets>
        </div>
        <div class="box small-box card run-comparison">
            <app-run-comparison [gameId]="actualGameId"></app-run-comparison>
        </div>
        <div class="box wide-box card ball-commentary-card">
            <app-ball-by-ball-commentary [battingInningsNumber]="viewingBattingInnings" [gameId]="actualGameId"></app-ball-by-ball-commentary>
        </div>
    </ng-container>
    <ng-template #noMatch>
        <div *ngIf="this.parameterGameKey == '' && !gameId" class="no-match">Please select a Match to load</div>
        <div *ngIf="this.parameterGameKey != '' || gameId" class="no-match">Loading match data...</div>
    </ng-template>
</div>