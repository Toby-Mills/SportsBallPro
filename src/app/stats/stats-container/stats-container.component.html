<app-team-search 
  [prefilterTeam]="prefilterTeam"
  [showSearchBox]="showTeamSearch"
  (teamSelected)="onTeamSelected($event)">
</app-team-search>

<app-year-filter 
  *ngIf="selectedTeam"
  [team]="selectedTeam"
  (yearSelected)="onYearSelected($event)">
</app-year-filter>

<app-fixture-selector
  *ngIf="selectedTeam && selectedYear"
  [team]="selectedTeam"
  [year]="selectedYear"
  [fixtures]="selectedYearFixtures"
  [selectedFixtures]="selectedFixtures"
  (fixturesSelected)="onFixturesSelected($event)">
</app-fixture-selector>

<div class="analyze-container" *ngIf="selectedTeam && selectedYear">
  <button 
    class="analyze-button"
    [disabled]="selectedFixtures.length === 0"
    (click)="onAnalyzeRequested()">
    Analyze Selected Fixtures
  </button>
</div>

<app-player-stats-table
  *ngIf="aggregatedPlayers.length > 0"
  [players]="aggregatedPlayers">
</app-player-stats-table>
